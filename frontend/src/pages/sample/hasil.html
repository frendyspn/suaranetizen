<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hasil Poling - Suara Netizen</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #fff; }
        header { text-align: center; padding: 0; position: fixed; top: 0; left: 0; width: 100%; height: 120px; background: #fff; z-index: 1000; overflow: hidden; }
        header img { width: 100%; height: 100%; object-fit: cover; }
        nav { display: flex; justify-content: center; background: #fff; flex-wrap: wrap; position: fixed; top: 120px; left: 0; width: 100%; z-index: 1001; overflow-x: auto; white-space: nowrap; padding: 5px 0; }
        nav a { padding: 10px 15px; text-decoration: none; color: black; font-weight: bold; border-left: 1px solid #ccc; }
        nav a:first-child { border-left: none; }
        nav a:hover { color: #0066cc; }
        
        /* Gaya untuk teks berkedip */
        .blinking-container {
            position: fixed;
            top: 165px;
            left: 0;
            width: 100%;
            background-color: #0066cc;
            color: white;
            padding: 12px 0;
            z-index: 1000;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .blinking-text {
            font-size: 14px;
            font-weight: bold;
            animation: blink 1.5s linear infinite;
        }
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        /* Konten Hasil Poling */
        .content { 
            display: flex; 
            flex-wrap: wrap; 
            padding: 220px 20px 20px 20px; 
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .left-column {
            width: 300px;
            padding: 20px;
            margin-right: 20px;
            background: #f5f9ff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .right-column {
            flex: 1;
            min-width: 300px;
            padding: 20px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        /* Judul Hasil Poling */
        .poll-title {
            text-align: center;
            font-size: 32px;
            color: #0066cc;
            margin-bottom: 30px;
            animation: pulse 2s infinite, float 3s ease-in-out infinite;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
        
        /* Grafik Hasil Poling */
        .chart-container {
            width: 100%;
            height: 300px;
            margin-bottom: 40px;
            background: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .chart-bar {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .chart-label {
            width: 150px;
            font-weight: bold;
        }
        
        .chart-bar-inner {
            flex-grow: 1;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }
        
        .chart-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #0066cc, #4da6ff);
            border-radius: 15px;
            transition: width 1s ease-out;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
        }
        
        /* Tabel Hasil Poling */
        .poll-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
        }
        
        .poll-table th {
            background-color: #0066cc;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .poll-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
        }
        
        .poll-table tr:nth-child(even) {
            background-color: #f5f9ff;
        }
        
        .poll-table tr:hover {
            background-color: #e6f0ff;
        }
        
        /* Pesan Terima Kasih */
        .thank-you {
            text-align: center;
            font-size: 20px;
            color: #0066cc;
            margin-top: 40px;
            padding: 20px;
            background: #f5f9ff;
            border-radius: 8px;
            font-weight: bold;
        }
        
        /* Gaya untuk progress bar donasi */
        .donation-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f5f9ff;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        .donation-title {
            font-size: 24px;
            color: #0066cc;
            margin-bottom: 15px;
            text-align: left;
        }
        
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 20px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 30px;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            border-radius: 20px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
        }
        
        .donation-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #555;
        }
        
        .target-amount {
            font-weight: bold;
            color: #0066cc;
        }
        
        footer { 
            text-align: center; 
            padding: 20px; 
            background: #f5f5f5; 
            margin-top: 20px; 
            border-top: 1px solid #ddd;
        }
        
        @media(max-width: 768px) { 
            nav { top: 100px; } 
            .blinking-container { top: 145px; }
            .content { 
                padding-top: 200px; 
                flex-direction: column; 
            } 
            .left-column {
                width: 100%;
                margin-right: 0;
                margin-bottom: 20px;
            }
            .poll-title {
                font-size: 26px;
            }
            .donation-title {
                font-size: 22px;
            }
        }
        
        @media(max-width: 480px) {
            header {
                height: 80px;
            }
            nav {
                top: 80px;
            }
            .blinking-container { 
                top: 125px;
                padding: 8px 0;
            }
            .blinking-text {
                font-size: 13px;
            }
            .content {
                padding-top: 180px;
            }
            nav a {
                padding: 8px 10px;
                font-size: 14px;
            }
            .poll-title {
                font-size: 22px;
            }
            .chart-label {
                width: 100px;
                font-size: 14px;
            }
            .thank-you {
                font-size: 16px;
            }
            .donation-title {
                font-size: 20px;
            }
            .progress-bar {
                height: 25px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <header>
        <img src="images/banner1.png" alt="Suara Netizen Header">
    </header>

    <nav>
        <a href="index.html">Home</a>
        <a href="tentang.html">Tentang Suara Netizen</a>
        <a href="poling.html">Polling</a>
        <a href="hasil.html">Hasil Poling</a>
        <a href="kata_terbit.html">Kata-kata Terbit</a>
        <a href="tim.html">Tim</a>
        <a href="galeri.html">Galery</a>
        <a href="bilboard.html">Penerbitan Billboard</a>
    </nav>
    
    <!-- Blinking Text -->
    <div class="blinking-container">
        <div class="blinking-text">
            Selamat datang di suaranetizen.co.id! Dengan kekuatan kata-kata (The Power of Words) kita tentukan arah dan masa depan bangsa!
        </div>
    </div>

    <div class="content">
        <!-- Kolom Kiri untuk Sponsor/Iklan -->
        <div class="left-column">
            <h3>Sponsor</h3>
            <img src="images/sponsor1.jpg" alt="Sponsor 1" class="sponsor-img">
            <img src="images/sponsor2.jpg" alt="Sponsor 2" class="sponsor-img">
            <img src="images/sponsor3.jpg" alt="Sponsor 3" class="sponsor-img">
        </div>
        
        <!-- Kolom Kanan untuk Konten Hasil Poling -->
        <div class="right-column">
            <!-- Section Donasi -->
            <div class="donation-section">
                <h2 class="donation-title">Capaian Donasi Penerbitan Billboard</h2>
                <div class="progress-container">
                    <div id="donation-progress" class="progress-bar" style="width: 0%">0%</div>
                </div>
                <div class="donation-info">
                    <span>Terkumpul: <span id="collected-amount">Rp 0</span></span>
                    <span>Target: <span class="target-amount">Rp 100.000.000</span></span>
                </div>
            </div>
            
            <h1 class="poll-title">Tiga Besar Pemenang Poling</h1>
            
            <!-- Grafik Hasil Poling -->
            <div class="chart-container">
                <h2>Perolehan Suara</h2>
                <div class="chart-bar">
                    <div class="chart-label">Rinto Jatmiko</div>
                    <div class="chart-bar-inner">
                        <div class="chart-bar-fill" style="width: 75%;">1,250 suara</div>
                    </div>
                </div>
                <div class="chart-bar">
                    <div class="chart-label">Anita Rahayu</div>
                    <div class="chart-bar-inner">
                        <div class="chart-bar-fill" style="width: 60%;">980 suara</div>
                    </div>
                </div>
                <div class="chart-bar">
                    <div class="chart-label">Budi Santoso</div>
                    <div class="chart-bar-inner">
                        <div class="chart-bar-fill" style="width: 45%;">720 suara</div>
                    </div>
                </div>
            </div>
            
            <!-- Tabel Hasil Poling -->
            <table class="poll-table">
                <thead>
                    <tr>
                        <th>No</th>
                        <th>Kata-kata/Quote</th>
                        <th>Nama User</th>
                        <th>Suara</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>"Perubahan dimulai dari kesadaran kolektif untuk bergerak bersama"</td>
                        <td>Rinto Jatmiko</td>
                        <td>1,250</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>"Kata-kata adalah senjata paling tajam untuk melawan kebodohan"</td>
                        <td>Anita Rahayu</td>
                        <td>980</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>"Suara rakyat adalah suara kebenaran yang tak terbendung"</td>
                        <td>Budi Santoso</td>
                        <td>720</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>"Bangsa yang besar adalah bangsa yang menghargai pendapat warganya"</td>
                        <td>Dewi Lestari</td>
                        <td>650</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>"Kritik membangun adalah nutrisi bagi demokrasi"</td>
                        <td>Fajar Nugroho</td>
                        <td>580</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>"Kebebasan berekspresi adalah hak dasar setiap warga negara"</td>
                        <td>Citra Dewi</td>
                        <td>520</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>"Dari diskusi yang sehat lahir solusi yang brilian"</td>
                        <td>Hendra Kurnia</td>
                        <td>480</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>"Netizen cerdas adalah garda terdepan perubahan bangsa"</td>
                        <td>Linda Wati</td>
                        <td>430</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="thank-you">
                Terima kasih kepada semua Netizen yang telah berpartisipasi dan Selamat kepada tiga orang Netizen dengan perolehan suara terbanyak
            </div>
        </div>
    </div>

    <footer>
        &copy; 2025 SuaraNetizen. All rights reserved.
    </footer>

    <script>
        // Animasi grafik saat halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            const bars = document.querySelectorAll('.chart-bar-fill');
            bars.forEach(bar => {
                const originalWidth = bar.style.width;
                bar.style.width = '0';
                setTimeout(() => {
                    bar.style.width = originalWidth;
                }, 100);
            });
            
            // Fungsi untuk mengambil data donasi dari API
            function fetchDonationData() {
                // Ganti dengan endpoint API Gateway Payment donasi Anda
                const apiEndpoint = 'https://api-anda.com/donation';
                
                // Contoh data dummy jika API belum tersedia
                const dummyData = {
                    success: true,
                    amount: 32500000, // Rp 32.500.000
                    updated_at: new Date().toISOString()
                };
                
                // Simulasi fetch API
                new Promise((resolve) => {
                    setTimeout(() => {
                        // Untuk produksi, gunakan fetch ke API sebenarnya
                        // resolve(fetch(apiEndpoint).then(res => res.json()));
                        resolve(dummyData);
                    }, 500);
                })
                .then(data => {
                    if(data.success) {
                        updateDonationProgress(data.amount);
                    }
                })
                .catch(error => {
                    console.error('Error fetching donation data:', error);
                    // Fallback data jika API tidak tersedia
                    updateDonationProgress(27500000); // Contoh nilai fallback
                });
            }
            
            // Fungsi untuk memperbarui progress bar donasi
            function updateDonationProgress(amount) {
                const target = 100000000;
                const percentage = Math.min((amount / target) * 100, 100);
                const progressBar = document.getElementById('donation-progress');
                const collectedAmount = document.getElementById('collected-amount');
                
                // Format angka ke Rupiah
                const formattedAmount = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0
                }).format(amount);
                
                progressBar.style.width = percentage + '%';
                progressBar.textContent = Math.round(percentage) + '%';
                collectedAmount.textContent = formattedAmount;
            }
            
            // Panggil fungsi pertama kali
            fetchDonationData();
            
            // Update data donasi setiap 30 detik
            setInterval(fetchDonationData, 30000);
        });
    </script>
</body>
</html>